{% with variant=variant|default:"default" size=size|default:"default" %}
<button
    type="{{ type|default:'button' }}"
    {% if disabled %}disabled{% endif %}
    {% if id %}id="{{ id }}"{% endif %}
    class="
        btn-hover
        inline-flex items-center justify-center gap-2
        font-semibold
        transition-all duration-200
        focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2
        disabled:pointer-events-none disabled:opacity-50
        {% if variant == 'default' or variant == 'gradient' %}
            bg-gradient-primary text-white rounded-full shadow-lg hover:shadow-xl
        {% elif variant == 'destructive' %}
            bg-destructive text-white rounded-full shadow-lg hover:shadow-xl
        {% elif variant == 'outline' %}
            border-2 border-border bg-transparent hover:bg-muted hover:border-primary/50 rounded-full text-foreground
        {% elif variant == 'secondary' %}
            bg-secondary text-secondary-foreground rounded-full shadow-sm hover:shadow-md
        {% elif variant == 'ghost' %}
            hover:bg-muted rounded-lg
        {% elif variant == 'link' %}
            text-primary underline-offset-4 hover:underline
        {% endif %}
        {% if size == 'default' %}
            h-11 px-6 text-sm
        {% elif size == 'sm' %}
            h-9 px-4 text-xs
        {% elif size == 'lg' %}
            h-12 px-8 text-base
        {% elif size == 'xl' %}
            h-14 px-10 text-lg
        {% elif size == 'icon' %}
            h-10 w-10 rounded-lg
        {% endif %}
        {{ class }}"
    {{ attrs }}
>
    {{ children }}
    <span class="htmx-indicator ml-2">
        <i data-lucide="loader-2" class="animate-spin h-4 w-4"></i>
    </span>
</button>
{% endwith %}
