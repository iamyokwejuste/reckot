{% load i18n %}
{% if request.resolver_match.url_name != 'assistant' %}
<a href="{% url 'ai:assistant' %}"
   style="position: fixed !important; bottom: 1rem !important; right: 1rem !important; z-index: 99999 !important;"
   class="flex h-14 w-14 sm:h-16 sm:w-16 items-center justify-center rounded-full bg-foreground text-background shadow-2xl hover:scale-110 hover:shadow-[0_20px_60px_-12px_rgba(0,0,0,0.5)] transition-all duration-300 group"
   title="{% trans 'AI Assistant' %}"
   id="ai-assistant-fab">
    <i data-lucide="bot" class="h-6 w-6 sm:h-7 sm:w-7"></i>
    <span class="absolute right-full mr-3 sm:mr-4 whitespace-nowrap rounded-xl bg-popover px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-popover-foreground shadow-2xl opacity-0 group-hover:opacity-100 transition-all duration-200 border border-border hidden lg:block">
        {% trans "AI Assistant" %}
    </span>
    <span class="absolute -top-1 -right-1 flex h-4 w-4 sm:h-5 sm:w-5">
        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
        <span class="relative inline-flex rounded-full h-4 w-4 sm:h-5 sm:w-5 bg-emerald-500 border-2 border-background"></span>
    </span>
</a>
<style>
    @media (min-width: 640px) {
        #ai-assistant-fab {
            bottom: 1.5rem !important;
            right: 1.5rem !important;
        }
    }
</style>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    });
</script>
{% endif %}
