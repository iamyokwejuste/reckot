{% extends 'base.html' %}
{% load slippers i18n %}

{% block title %}{% trans "Join" %} {{ invitation.organization.name }} - Reckot{% endblock %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center py-12">
    <div class="w-full max-w-md">
        <div class="card p-8 text-center">
            {% if invitation.organization.logo %}
            <img src="{{ invitation.organization.logo.url }}" alt="{{ invitation.organization.name }}"
                 class="h-16 w-16 rounded-xl mx-auto mb-4 object-cover">
            {% else %}
            <div class="h-16 w-16 rounded-xl bg-muted flex items-center justify-center mx-auto mb-4">
                <i data-lucide="building-2" class="w-8 h-8 text-muted-foreground"></i>
            </div>
            {% endif %}

            <h1 class="text-xl font-semibold mb-2">{% trans "Join" %} {{ invitation.organization.name }}</h1>
            <p class="text-muted-foreground mb-6">
                {% blocktrans with inviter=invitation.invited_by.get_full_name|default:invitation.invited_by.email role=invitation.get_role_display %}{{ inviter }} has invited you to join as a <strong>{{ role }}</strong>.{% endblocktrans %}
            </p>

            {% if invitation.message %}
            <div class="bg-muted rounded-lg p-4 mb-6 text-left text-sm">
                <p class="text-muted-foreground italic">"{{ invitation.message }}"</p>
            </div>
            {% endif %}

            <form method="post">
                {% csrf_token %}
                {% #button variant="default" type="submit" size="lg" class="w-full" %}
                    <i data-lucide="check" class="w-5 h-5"></i>
                    {% trans "Accept Invitation" %}
                {% /button %}
            </form>

            <p class="text-xs text-muted-foreground mt-4">
                {% trans "By accepting, you'll be able to collaborate on events with this organization." %}
            </p>
        </div>
    </div>
</div>
{% endblock %}
