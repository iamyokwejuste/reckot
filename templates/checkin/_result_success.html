{% load slippers %}
<div class="space-y-4" data-motion>
    {% #alert variant="success" icon="check-circle" title="Check-in Successful" %}
        <div class="space-y-1 text-sm">
            <p><strong>{{ ticket.booking.user.email }}</strong></p>
            <p>{{ ticket.ticket_type.name }}</p>
            <p class="font-mono text-xs">{{ ticket.code }}</p>
        </div>
    {% /alert %}

    {% if swag_items %}
    <div class="rounded-lg border border-border p-4">
        <h4 class="font-medium mb-3">Collect Swag</h4>
        <div class="space-y-2">
            {% for item in swag_items %}
            <div class="flex items-center justify-between">
                <span class="text-sm">{{ item.name }}</span>
                <button
                    hx-post="{% url 'checkin:collect_swag' checkin_ref=checkin.reference item_id=item.id %}"
                    hx-target="closest div"
                    hx-swap="outerHTML"
                    class="inline-flex items-center rounded-md bg-secondary px-2 py-1 text-xs font-medium text-secondary-foreground hover:bg-secondary/80"
                >
                    <i data-lucide="gift" class="mr-1 h-3 w-3"></i>
                    Collect
                </button>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>

<script>
    if (typeof motion !== 'undefined') {
        motion.animate("[data-motion]", { opacity: [0, 1], y: [8, 0] }, { duration: 0.25 });
    }
</script>
