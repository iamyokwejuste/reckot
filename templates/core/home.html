{% extends 'base.html' %}
{% load slippers %}

{% block title %}Reckot - Event Management for Africa{% endblock %}

{% block content %}
<section class="py-20 md:py-32">
    <div class="container">
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
            <div>
                <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full border border-border bg-card text-sm font-medium mb-8" x-data x-intersect.once="$el.classList.add('animate-in')">
                    <span class="flex h-2 w-2 rounded-full bg-emerald-500"></span>
                    MTN MoMo & Orange Money ready
                </div>
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-semibold tracking-tight leading-[1.1] text-balance" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-1')">
                    Event management made simple for Africa
                </h1>
                <p class="mt-6 text-lg text-muted-foreground max-w-xl text-pretty leading-relaxed" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-2')">
                    Create events, sell tickets with mobile money, and check in attendees with QR codes. Everything you need, nothing you don't.
                </p>
                <div class="flex flex-col sm:flex-row gap-3 mt-10" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-3')">
                    <a href="{% url 'account_signup' %}">
                        {% #button variant="default" size="lg" %}
                            Start free
                            <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        {% /button %}
                    </a>
                    <a href="#how">
                        {% #button variant="outline" size="lg" %}How it works{% /button %}
                    </a>
                </div>
            </div>
            <div class="relative" x-data x-intersect.once="$el.classList.add('animate-scale')">
                <div class="aspect-[4/3] rounded-2xl border border-border bg-card p-6 lg:p-8">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="h-3 w-3 rounded-full bg-red-400"></div>
                        <div class="h-3 w-3 rounded-full bg-yellow-400"></div>
                        <div class="h-3 w-3 rounded-full bg-emerald-400"></div>
                    </div>
                    <div class="space-y-4">
                        <div class="h-8 w-3/4 rounded-lg bg-muted"></div>
                        <div class="h-4 w-1/2 rounded bg-muted"></div>
                        <div class="grid grid-cols-2 gap-3 mt-6">
                            <div class="h-24 rounded-xl bg-muted"></div>
                            <div class="h-24 rounded-xl bg-foreground"></div>
                        </div>
                        <div class="flex gap-3 mt-4">
                            <div class="h-10 flex-1 rounded-lg bg-muted"></div>
                            <div class="h-10 w-24 rounded-lg bg-foreground"></div>
                        </div>
                    </div>
                </div>
                <div class="absolute -bottom-4 -right-4 lg:-bottom-6 lg:-right-6 p-4 rounded-xl border border-border bg-card shadow-lg" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-4')">
                    <div class="flex items-center gap-3">
                        <div class="h-10 w-10 rounded-full bg-emerald-500/10 flex items-center justify-center">
                            <i data-lucide="check" class="w-5 h-5 text-emerald-600"></i>
                        </div>
                        <div>
                            <p class="font-medium text-sm">Payment received</p>
                            <p class="text-xs text-muted-foreground">5,000 XAF via MoMo</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mt-20 lg:mt-28 grid grid-cols-2 md:grid-cols-4 gap-8 lg:gap-12" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-5')">
            <div class="text-center md:text-left">
                <p class="text-3xl sm:text-4xl lg:text-5xl font-semibold tracking-tight">500+</p>
                <p class="text-muted-foreground text-sm mt-1">Events hosted</p>
            </div>
            <div class="text-center md:text-left">
                <p class="text-3xl sm:text-4xl lg:text-5xl font-semibold tracking-tight">12K</p>
                <p class="text-muted-foreground text-sm mt-1">Tickets sold</p>
            </div>
            <div class="text-center md:text-left">
                <p class="text-3xl sm:text-4xl lg:text-5xl font-semibold tracking-tight">98%</p>
                <p class="text-muted-foreground text-sm mt-1">Check-in rate</p>
            </div>
            <div class="text-center md:text-left">
                <p class="text-3xl sm:text-4xl lg:text-5xl font-semibold tracking-tight">24h</p>
                <p class="text-muted-foreground text-sm mt-1">Payout speed</p>
            </div>
        </div>
    </div>
</section>

<section class="py-12 border-y border-border">
    <div class="container">
        <p class="text-center text-sm text-muted-foreground mb-8">Trusted by leading organizations across Africa</p>
        <div class="flex flex-wrap items-center justify-center gap-8 md:gap-12 lg:gap-16 opacity-60 grayscale">
            <div class="flex items-center gap-2">
                <div class="h-8 w-8 rounded-lg bg-muted flex items-center justify-center">
                    <span class="text-xs font-bold">GDG</span>
                </div>
                <span class="font-semibold text-sm">GDG Douala</span>
            </div>
            <div class="flex items-center gap-2">
                <div class="h-8 w-8 rounded-lg bg-muted flex items-center justify-center">
                    <i data-lucide="flame" class="w-4 h-4"></i>
                </div>
                <span class="font-semibold text-sm">DevFest</span>
            </div>
            <div class="flex items-center gap-2">
                <div class="h-8 w-8 rounded-lg bg-muted flex items-center justify-center">
                    <i data-lucide="rocket" class="w-4 h-4"></i>
                </div>
                <span class="font-semibold text-sm">Startup Weekend</span>
            </div>
            <div class="flex items-center gap-2">
                <div class="h-8 w-8 rounded-lg bg-muted flex items-center justify-center">
                    <i data-lucide="globe" class="w-4 h-4"></i>
                </div>
                <span class="font-semibold text-sm">AfricaTech</span>
            </div>
            <div class="flex items-center gap-2">
                <div class="h-8 w-8 rounded-lg bg-muted flex items-center justify-center">
                    <i data-lucide="code-2" class="w-4 h-4"></i>
                </div>
                <span class="font-semibold text-sm">PyConCM</span>
            </div>
        </div>
    </div>
</section>

{% if featured_events %}
<section id="featured" class="py-20 md:py-28">
    <div class="container">
        <div class="flex items-center justify-between mb-10" x-data x-intersect.once="$el.classList.add('animate-in')">
            <div>
                <h2 class="text-2xl md:text-3xl font-semibold tracking-tight">Featured Events</h2>
                <p class="text-muted-foreground mt-2">Discover upcoming events handpicked by our team</p>
            </div>
            <a href="{% url 'events:discover' %}" class="hidden sm:inline-flex">
                {% #button variant="outline" size="sm" %}
                    View all events
                    <i data-lucide="arrow-right" class="w-4 h-4"></i>
                {% /button %}
            </a>
        </div>

        <div class="relative" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-1')">
            <div class="flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide -mx-4 px-4 lg:mx-0 lg:px-0 lg:grid lg:grid-cols-5 lg:overflow-visible lg:gap-0">
                {% for event in featured_events %}
                <div class="snap-start shrink-0 w-72 lg:w-auto featured-card-{{ forloop.counter }}">
                    {% #card interactive=True class="group relative overflow-hidden h-64 !p-0" %}
                        <a href="{% url 'events:public_detail' event.organization.slug event.slug %}" class="absolute inset-0 z-10"></a>
                        {% if event.cover_image %}
                        <div class="absolute inset-0">
                            <img src="{{ event.cover_image.url }}" alt="{{ event.title }}" class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
                        </div>
                        {% else %}
                        <div class="absolute inset-0 bg-gradient-to-br from-primary/20 to-primary/5"></div>
                        {% endif %}

                        <div class="relative h-full flex flex-col justify-end p-5 pointer-events-none">
                            {% #badge variant="warning" class="absolute top-4 left-4 !bg-amber-500 !text-white !border-transparent" %}
                                <i data-lucide="star" class="h-3 w-3 mr-1"></i>
                                Featured
                            {% /badge %}

                            <div class="{% if event.cover_image %}text-white{% endif %}">
                                <p class="text-xs {% if event.cover_image %}text-white/80{% else %}text-muted-foreground{% endif %} mb-1">{{ event.organization.name }}</p>
                                <h3 class="font-semibold text-base line-clamp-2 mb-2">
                                    {{ event.title }}
                                </h3>
                                <div class="flex items-center gap-3 text-xs {% if event.cover_image %}text-white/70{% else %}text-muted-foreground{% endif %}">
                                    <span class="flex items-center gap-1">
                                        <i data-lucide="calendar" class="h-3.5 w-3.5"></i>
                                        {{ event.start_at|date:"M d, Y" }}
                                    </span>
                                    {% if event.location %}
                                    <span class="flex items-center gap-1">
                                        <i data-lucide="map-pin" class="h-3.5 w-3.5"></i>
                                        {{ event.location|truncatewords:2 }}
                                    </span>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% /card %}
                </div>
                {% endfor %}
            </div>

            <div class="absolute left-0 top-0 bottom-4 w-8 bg-gradient-to-r from-background to-transparent pointer-events-none lg:hidden"></div>
            <div class="absolute right-0 top-0 bottom-4 w-8 bg-gradient-to-l from-background to-transparent pointer-events-none lg:hidden"></div>
        </div>

        <a href="{% url 'events:discover' %}" class="w-full mt-6 sm:hidden block">
            {% #button variant="outline" size="sm" class="w-full" %}
                View all events
                <i data-lucide="arrow-right" class="w-4 h-4"></i>
            {% /button %}
        </a>
    </div>
</section>

<style>
@media (min-width: 1024px) {
    .featured-card-1 { margin-right: -1rem; z-index: 50; }
    .featured-card-2 { margin-left: -0.5rem; margin-right: -0.5rem; z-index: 40; transform: scale(0.95); }
    .featured-card-3 { z-index: 30; transform: scale(0.9); }
    .featured-card-4 { margin-left: -0.5rem; margin-right: -0.5rem; z-index: 20; transform: scale(0.95); }
    .featured-card-5 { margin-left: -1rem; z-index: 10; }
}
</style>
{% endif %}

<section id="features" class="py-20 md:py-28">
    <div class="container">
        <div class="text-center max-w-2xl mx-auto mb-16" x-data x-intersect.once="$el.classList.add('animate-in')">
            <h2 class="text-3xl md:text-4xl font-semibold tracking-tight">Everything you need to run events</h2>
            <p class="text-muted-foreground mt-4 text-lg">From ticket sales to check-in, we handle the logistics so you can focus on your event.</p>
        </div>
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6">
            <div class="card p-6 lg:p-8 sm:col-span-2 lg:col-span-2 lg:row-span-2" x-data x-intersect.once="$el.classList.add('animate-scale')">
                <div class="flex items-center gap-3 mb-6">
                    <div class="h-10 w-10 rounded-xl bg-foreground flex items-center justify-center">
                        <i data-lucide="smartphone" class="w-5 h-5 text-background"></i>
                    </div>
                    <span class="text-xs font-medium text-muted-foreground uppercase tracking-wider">Payments</span>
                </div>
                <h3 class="text-2xl font-semibold">Mobile money, built-in</h3>
                <p class="text-muted-foreground mt-3 text-pretty max-w-md">Accept MTN MoMo and Orange Money payments instantly. No bank account needed. Get paid within 24 hours.</p>
                <div class="mt-8 grid grid-cols-2 gap-4">
                    <div class="p-4 rounded-xl border border-border">
                        <div class="flex items-center gap-2 mb-2">
                            <div class="h-6 w-6 rounded bg-yellow-500/10 flex items-center justify-center">
                                <span class="text-xs font-bold text-yellow-600">M</span>
                            </div>
                            <span class="text-sm font-medium">MTN MoMo</span>
                        </div>
                        <p class="text-xs text-muted-foreground">Instant confirmation</p>
                    </div>
                    <div class="p-4 rounded-xl border border-border">
                        <div class="flex items-center gap-2 mb-2">
                            <div class="h-6 w-6 rounded bg-orange-500/10 flex items-center justify-center">
                                <span class="text-xs font-bold text-orange-600">O</span>
                            </div>
                            <span class="text-sm font-medium">Orange Money</span>
                        </div>
                        <p class="text-xs text-muted-foreground">Instant confirmation</p>
                    </div>
                </div>
            </div>
            <div class="card p-6 lg:p-8 bg-foreground text-background" x-data x-intersect.once="$el.classList.add('animate-scale', 'delay-1')">
                <div class="text-4xl lg:text-5xl font-semibold">5%</div>
                <p class="mt-2 text-background/70">per paid ticket</p>
                <p class="text-sm text-background/50 mt-4">Choose your plan, pay only when you sell</p>
            </div>
            <div class="card p-6 lg:p-8" x-data x-intersect.once="$el.classList.add('animate-scale', 'delay-2')">
                <div class="h-10 w-10 rounded-xl bg-emerald-500/10 flex items-center justify-center mb-4">
                    <i data-lucide="scan-line" class="w-5 h-5 text-emerald-600"></i>
                </div>
                <h3 class="font-semibold">QR Check-in</h3>
                <p class="text-muted-foreground text-sm mt-2">Scan tickets in under 2 seconds. Works offline.</p>
            </div>
            <div class="card p-6 lg:p-8" x-data x-intersect.once="$el.classList.add('animate-scale', 'delay-3')">
                <div class="h-10 w-10 rounded-xl bg-foreground flex items-center justify-center mb-4">
                    <i data-lucide="bar-chart-3" class="w-5 h-5 text-background"></i>
                </div>
                <h3 class="font-semibold">Real-time analytics</h3>
                <p class="text-muted-foreground text-sm mt-2">Track sales, revenue, and attendance live.</p>
            </div>
            <div class="card p-6 lg:p-8" x-data x-intersect.once="$el.classList.add('animate-scale', 'delay-4')">
                <div class="h-10 w-10 rounded-xl bg-foreground flex items-center justify-center mb-4">
                    <i data-lucide="users" class="w-5 h-5 text-background"></i>
                </div>
                <h3 class="font-semibold">Team access</h3>
                <p class="text-muted-foreground text-sm mt-2">Add collaborators with custom permissions.</p>
            </div>
            <div class="card p-6 lg:p-8" x-data x-intersect.once="$el.classList.add('animate-scale', 'delay-5')">
                <div class="h-10 w-10 rounded-xl bg-foreground flex items-center justify-center mb-4">
                    <i data-lucide="gift" class="w-5 h-5 text-background"></i>
                </div>
                <h3 class="font-semibold">Swag tracking</h3>
                <p class="text-muted-foreground text-sm mt-2">Manage giveaways at check-in.</p>
            </div>
            <div class="card p-6 lg:p-8 border-2 border-primary/20 bg-primary/5" x-data x-intersect.once="$el.classList.add('animate-scale', 'delay-6')">
                <div class="flex items-center gap-2 mb-4">
                    <div class="h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center">
                        <i data-lucide="sparkles" class="w-5 h-5 text-primary"></i>
                    </div>
                    <span class="text-xs font-medium px-2 py-0.5 rounded-full bg-primary/10 text-primary">Starter+</span>
                </div>
                <h3 class="font-semibold">I Will Be There</h3>
                <p class="text-muted-foreground text-sm mt-2">Let attendees create personalized flyers to share on social media.</p>
            </div>
        </div>
    </div>
</section>

<section id="how" class="py-20 md:py-28">
    <div class="container">
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
            <div x-data x-intersect.once="$el.classList.add('animate-in')">
                <h2 class="text-3xl md:text-4xl font-semibold tracking-tight">Three steps to your event</h2>
                <p class="text-muted-foreground mt-4 text-lg max-w-md">From idea to sold-out in minutes, not days.</p>
                <div class="mt-10 space-y-6">
                    <div class="flex gap-4" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-1')">
                        <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full border-2 border-foreground font-semibold">1</div>
                        <div>
                            <h3 class="font-semibold">Create your event</h3>
                            <p class="text-muted-foreground mt-1">Add details, set ticket types and prices. Takes about 2 minutes.</p>
                        </div>
                    </div>
                    <div class="flex gap-4" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-2')">
                        <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full border-2 border-foreground font-semibold">2</div>
                        <div>
                            <h3 class="font-semibold">Share your link</h3>
                            <p class="text-muted-foreground mt-1">Share on WhatsApp, social media, or email. Tickets sell themselves.</p>
                        </div>
                    </div>
                    <div class="flex gap-4" x-data x-intersect.once="$el.classList.add('animate-in', 'delay-3')">
                        <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full border-2 border-foreground font-semibold">3</div>
                        <div>
                            <h3 class="font-semibold">Check in attendees</h3>
                            <p class="text-muted-foreground mt-1">Scan QR codes at the door. Works offline. Real-time stats.</p>
                        </div>
                    </div>
                </div>
                <a href="{% url 'account_signup' %}" class="mt-10 inline-flex">
                    {% #button variant="default" %}
                        Get started free
                        <i data-lucide="arrow-right" class="w-4 h-4"></i>
                    {% /button %}
                </a>
            </div>
            <div class="relative" x-data x-intersect.once="$el.classList.add('animate-scale')">
                <div class="aspect-square rounded-2xl border border-border bg-card p-6 lg:p-8">
                    <div class="space-y-4">
                        <div class="flex items-center gap-3">
                            <div class="h-12 w-12 rounded-xl bg-foreground flex items-center justify-center">
                                <i data-lucide="calendar" class="w-6 h-6 text-background"></i>
                            </div>
                            <div>
                                <div class="h-4 w-32 rounded bg-muted"></div>
                                <div class="h-3 w-20 rounded bg-muted mt-2"></div>
                            </div>
                        </div>
                        <div class="h-px bg-border my-6"></div>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 rounded-lg border border-border">
                                <div class="flex items-center gap-3">
                                    <div class="h-8 w-8 rounded bg-muted"></div>
                                    <div class="h-3 w-24 rounded bg-muted"></div>
                                </div>
                                <div class="h-6 w-16 rounded-full bg-emerald-500/10"></div>
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg border border-border">
                                <div class="flex items-center gap-3">
                                    <div class="h-8 w-8 rounded bg-muted"></div>
                                    <div class="h-3 w-20 rounded bg-muted"></div>
                                </div>
                                <div class="h-6 w-16 rounded-full bg-foreground"></div>
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg border border-border">
                                <div class="flex items-center gap-3">
                                    <div class="h-8 w-8 rounded bg-muted"></div>
                                    <div class="h-3 w-28 rounded bg-muted"></div>
                                </div>
                                <div class="h-6 w-16 rounded-full bg-emerald-500/10"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="pricing" class="py-20 md:py-28">
    <div class="container">
        <div class="text-center max-w-2xl mx-auto mb-16" x-data x-intersect.once="$el.classList.add('animate-in')">
            <h2 class="text-3xl md:text-4xl font-semibold tracking-tight">Simple, transparent pricing</h2>
            <p class="text-muted-foreground mt-4 text-lg">No monthly fees. <a href="{% url 'why_us' %}#pricing-calculator" class="underline hover:text-foreground">No hidden costs.</a> Pay only when you sell.</p>
        </div>
        {% url 'account_signup' as signup_url %}
        <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
            {% #pricing_card name="Free" fee="2%" description="Perfect for getting started" href=signup_url %}
                {% #pricing_feature %}2 events per month{% /pricing_feature %}
                {% #pricing_feature %}Up to 100 tickets per event{% /pricing_feature %}
                {% #pricing_feature %}QR code check-in{% /pricing_feature %}
                {% #pricing_feature %}Basic analytics{% /pricing_feature %}
                {% #pricing_feature %}CSV exports{% /pricing_feature %}
                {% #pricing_feature disabled=True %}I Will Be There flyers{% /pricing_feature %}
            {% /pricing_card %}

            {% #pricing_card name="Starter" fee="5%" description="For growing organizers" href=signup_url popular=True delay="1" %}
                {% #pricing_feature %}10 events per month{% /pricing_feature %}
                {% #pricing_feature %}Up to 500 tickets per event{% /pricing_feature %}
                {% #pricing_feature %}MTN MoMo & Orange Money{% /pricing_feature %}
                {% #pricing_feature %}Advanced analytics{% /pricing_feature %}
                {% #pricing_feature %}CSV, Excel & PDF exports{% /pricing_feature %}
                {% #pricing_feature highlight=True %}I Will Be There flyers{% /pricing_feature %}
            {% /pricing_card %}

            {% #pricing_card name="Enterprise" custom_price="Custom" description="For large organizations" contact_href="mailto:reckot@yokwejuste.me" highlight=True delay="2" offset_mobile=True %}
                {% #pricing_feature %}Everything in Pro{% /pricing_feature %}
                {% #pricing_feature %}Custom service fee{% /pricing_feature %}
                {% #pricing_feature %}Dedicated account manager{% /pricing_feature %}
                {% #pricing_feature %}Custom integrations{% /pricing_feature %}
                {% #pricing_feature %}On-site support{% /pricing_feature %}
                {% #pricing_feature %}SLA guarantee{% /pricing_feature %}
            {% /pricing_card %}
        </div>
        <p class="text-center text-sm text-muted-foreground mt-8">All plans include: Team collaboration, 24-hour payouts, QR check-in</p>
    </div>
</section>

<section class="py-20 md:py-28">
    <div class="container">
        <div class="rounded-2xl border border-border bg-card p-8 md:p-12 lg:p-16 text-center" x-data x-intersect.once="$el.classList.add('animate-in')">
            <h2 class="text-2xl md:text-3xl lg:text-4xl font-semibold tracking-tight max-w-xl mx-auto">Ready to host your next event?</h2>
            <p class="mt-4 text-muted-foreground text-lg">Join 500+ organizers already using Reckot</p>
            <a href="{% url 'account_signup' %}" class="mt-8 inline-flex">
                {% #button variant="default" size="lg" %}
                    Create your first event
                    <i data-lucide="arrow-right" class="w-4 h-4"></i>
                {% /button %}
            </a>
        </div>
    </div>
</section>
{% endblock %}
