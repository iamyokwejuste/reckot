{% load i18n %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% trans "Ticket" %} - {{ event.title }}</title>
</head>
<body>
    {% for ticket in tickets %}
    <div class="ticket-container">
        <div class="ticket-header">
            <div>
                {% if organization_logo %}
                <img src="{{ organization_logo }}" alt="{{ organization.name }}" class="logo">
                {% endif %}
                <div class="event-title">{{ event.title }}</div>
                <div class="event-details">
                    <strong>{% trans "Date:" %}</strong> {{ event.start_at|date:"l, F d, Y" }}<br>
                    <strong>{% trans "Time:" %}</strong> {{ event.start_at|time:"H:i" }}
                    {% if event.end_at %} - {{ event.end_at|time:"H:i" }}{% endif %}<br>
                    {% if event.location %}
                    <strong>{% trans "Location:" %}</strong> {{ event.location }}<br>
                    {% endif %}
                </div>
            </div>
            <div>
                <div class="ticket-badge">{{ ticket.type_name }}</div>
            </div>
        </div>

        <div class="ticket-body">
            <div class="ticket-info">
                <div class="info-row">
                    <div class="info-label">{% trans "Ticket Code" %}</div>
                    <div class="ticket-code">{{ ticket.code }}</div>
                </div>

                <div class="info-row">
                    <div class="info-label">{% trans "Attendee Name" %}</div>
                    <div class="info-value">{{ ticket.attendee_name }}</div>
                </div>

                <div class="info-row">
                    <div class="info-label">{% trans "Attendee Email" %}</div>
                    <div class="info-value">{{ ticket.attendee_email }}</div>
                </div>

                <div class="info-row">
                    <div class="info-label">{% trans "Ticket Type" %}</div>
                    <div class="info-value">{{ ticket.type_name }}</div>
                </div>

                {% if ticket.type_price > 0 %}
                <div class="info-row">
                    <div class="info-label">{% trans "Price" %}</div>
                    <div class="info-value">{{ ticket.type_price|floatformat:0 }} XAF</div>
                </div>
                {% endif %}

                <div class="info-row">
                    <div class="info-label">{% trans "Booking Reference" %}</div>
                    <div class="info-value">{{ booking.reference }}</div>
                </div>
            </div>

            {% if qr_code %}
            <div class="qr-section">
                <img src="{{ qr_code }}" alt="QR Code" class="qr-code">
                <div style="margin-top: 10px; font-size: 10px; color: #666;">
                    {% trans "Scan at check-in" %}
                </div>
            </div>
            {% endif %}
        </div>

        <div class="instructions">
            <div class="instructions-title">{% trans "Important Information" %}</div>
            <ul style="margin: 5px 0; padding-left: 20px;">
                <li>{% trans "Please bring this ticket with you to the event (printed or on your mobile device)." %}</li>
                <li>{% trans "Your QR code will be scanned at the entrance for quick check-in." %}</li>
                <li>{% trans "Keep your ticket code safe and do not share it with others." %}</li>
                <li>{% trans "Contact the event organizer if you have any questions." %}</li>
            </ul>
        </div>
    </div>

    {% if not forloop.last %}
    <div class="page-break"></div>
    {% endif %}
    {% endfor %}

    <div class="footer">
        <p>{% trans "Ticket issued by" %} {{ organization.name }}</p>
        <p>{% trans "Powered by Reckot - Event Management Platform" %}</p>
        {% if booking.reference %}
        <p style="margin-top: 10px;">{% trans "Booking Reference:" %} {{ booking.reference }}</p>
        {% endif %}
    </div>
</body>
</html>
